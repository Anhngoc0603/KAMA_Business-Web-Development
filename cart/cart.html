<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Shopping Cart - Luxury Makeup Shop</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Bricolage+Grotesque:opsz,wght@12..96,200..800&family=Crimson+Text:ital,wght@0,400;0,600;0,700;1,400;1,600;1,700&family=Playfair+Display:ital,wght@0,400..900;1,400..900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css" />
    <link rel="stylesheet" href="/header_footer/style.css" />
    

</head>
<body>
    <!-- Header (Injected) -->
    <div id="header-placeholder"></div>
    
    <!-- Top shipping bar -->
    <div class="shipping-bar">
        <div class="shipping-bar-left">
            <span class="flag">üáªüá≥</span>
            <span class="ship-text">Shipping to VIETNAM</span>
        </div>
        <button id="toggleShippingPanel" class="ship-change">Change</button>
    </div>
    <!-- Free shipping progress under top bar -->
    <div class="free-shipping-banner">
        <span>Only <strong id="freeShipLeft">$0.00</strong> left for Free Shipping!</span>
        <div class="progress-bar-bg">
            <div id="progressBar" class="progress-bar-fill"></div>
        </div>
    </div>
    
<!-- Truck animation overlay -->
<div id="truckAnimation" class="truck-overlay hidden">
  <div class="loop-wrapper">
    <div class="mountain"></div>
    <div class="hill"></div>
    <div class="tree"></div>
    <div class="tree"></div>
    <div class="tree"></div>
    <div class="rock"></div>
    <div class="truck"></div>
    <div class="wheels"></div>
  </div>
</div>

<style>
.truck-overlay {
  position: fixed;
  inset: 0;
  background: linear-gradient(135deg, #FFF9F9 0%, #F9C6CF 100%);
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 9999;
  animation: fadeIn 0.3s ease;
}

.loop-wrapper {
  width: 600px;
  height: 250px;
  position: relative;
  overflow: hidden;
  border-bottom: 3px solid #E6A6B0;
}

/* ===== C·∫¢NH N√öI ===== */
.mountain {
  position: absolute;
  right: -900px;
  bottom: -20px;
  width: 2px;
  height: 2px;
  box-shadow:
    0 0 0 50px #FADADD,
    60px 50px 0 70px #F9C6CF,
    90px 90px 0 50px #E6A6B0,
    250px 250px 0 50px #E6A6B0,
    290px 320px 0 50px #FADADD,
    320px 400px 0 50px #F9C6CF;
  transform: rotate(130deg);
  animation: mtn 10s linear infinite;
}

/* ===== ƒê·ªíI ===== */
.hill {
  position: absolute;
  right: -900px;
  bottom: -50px;
  width: 400px;
  border-radius: 50%;
  height: 20px;
  box-shadow:
    0 0 0 50px #E6A6B0,
    -20px 0 0 20px #FADADD,
    -90px 0 0 50px #E6A6B0,
    250px 0 0 50px #E6A6B0,
    290px 0 0 50px #F9C6CF,
    620px 0 0 50px #FADADD;
  animation: hill 2s linear infinite;
}

/* ===== C√ÇY ===== */
.tree, .tree:nth-child(2), .tree:nth-child(3) {
  position: absolute;
  height: 100px;
  width: 35px;
  bottom: 0;
  background: url(https://s3-us-west-2.amazonaws.com/s.cdpn.io/130015/tree.svg) no-repeat center/contain;
  filter: sepia(0.3) hue-rotate(320deg) brightness(1.25);
}

/* ===== ƒê√Å ===== */
.rock {
  margin-top: -17%;
  height: 2%;
  width: 2%;
  bottom: -2px;
  border-radius: 20px;
  position: absolute;
  background: #A47061;
}

/* ===== XE ===== */
.truck, .wheels {
  width: 85px;
  bottom: 0;
  right: 50%;
  position: absolute;
}
.truck {
  background: url(https://s3-us-west-2.amazonaws.com/s.cdpn.io/130015/truck.svg) no-repeat center/contain;
  height: 60px;
  /* Tone matte: gi·∫£m s√°ng, gi·∫£m t∆∞∆°ng ph·∫£n, th√™m ƒë·ªô ·∫•m */
  filter: invert(68%) sepia(32%) saturate(320%) hue-rotate(330deg) brightness(0.93) contrast(0.95)
          drop-shadow(0 0 6px rgba(107, 76, 59, 0.25));
  animation: truck 1.8s ease-in-out infinite;
}



.wheels {
  background: url(https://s3-us-west-2.amazonaws.com/s.cdpn.io/130015/wheels.svg) no-repeat center/contain;
  height: 15px;
  filter: brightness(1.1) sepia(0.8) hue-rotate(330deg) saturate(120%);
  animation: truck 1.8s ease-in-out infinite;
}


/* ===== GIOÃÅ ===== */
.truck:before {
  content: "";
  position: absolute;
  width: 25px;
  box-shadow:
    -30px 28px 0 1.5px #FFECEC,
    -35px 18px 0 1.5px #FFF0F0;
  animation: wind 1s ease infinite;
}

/* ===== KEYFRAMES ===== */
@keyframes tree { 0% { transform: translate(1350px); } 100% { transform: translate(-50px); } }
@keyframes tree2 { 0% { transform: translate(650px); } 100% { transform: translate(-50px); } }
@keyframes tree3 { 0% { transform: translate(2750px); } 100% { transform: translate(-50px); } }
@keyframes rock { 0% { right: -200px; } 100% { right: 2000px; } }
@keyframes truck {
  0%,100%{transform:translateY(0)}
  6%{transform:translateY(-6px)}
  9%{transform:translateY(0)}
  10%{transform:translateY(-2px)}
}
@keyframes wind { 50% { transform: translateY(3px); } }
@keyframes mtn { 100% { transform: translateX(-2000px) rotate(130deg); } }
@keyframes hill { 100% { transform: translateX(-2000px); } }

</style>

    <div class="container">
        <h1 class="main-title" style="text-align:center;"><i>Complete your luxury makeup order</i></h1>

        <div class="main-grid">
            <div class="left-column">
                <div class="glass-section">
                    <div class="items-row">
                        <span id="itemCountText">0 items</span>
                        <button id="removeAllBtn" class="link-btn">Remove all</button>
                    </div>
                    <h2 class="section-title">Products in your cart</h2>
                    <div id="cartItems"></div>
                    <div id="emptyCart" class="empty-cart-message">
                        <h3>Your cart is empty</h3>
                        <p>Add some products to start shopping.</p>
                        <a href="/categories/categories.html" class="btn-primary" style="display:inline-block; margin-top:10px; text-decoration:none;">Continue Shopping</a>
                    </div>
                </div>
                <!-- Personalized Engraving moved from right to left column -->
                <div class="glass-section">
                    <h3 class="section-title">Personalized Engraving</h3>
                    <p class="service-description">Add a personal touch to your luxury products (+$5).</p>
                    <div class="engrave-container">
                        <input id="engraveNameInput" class="input" placeholder="Enter name for engraving...">
                        <button id="addEngravingBtn" class="btn-primary">Add</button>
                    </div>
                    <div id="engravingDisplay" class="engraving-display">
                        <span>Engraved name: </span><strong id="engravedName"></strong>
                        <button id="removeEngravingBtn" class="remove-btn">Remove</button>
                    </div>
                </div>

                <!-- Discount Code (hidden on Cart) -->
                
            </div>

            <div class="right-column">
                <!-- Promo & Offers -->
                <div class="glass-section promo-card">
                    <div class="summary-header">
                        <h3 class="section-title">Promo & Offers</h3>
                        <button id="clearCartBtn" class="clear-cart-btn">Clear All</button>
                    </div>
                    <div class="summary-body">
                        <div class="coupon-container">
                            <input id="couponInput" class="input" placeholder="Enter Promo Code">
                            <button id="applyCouponBtn" class="btn-primary">Apply</button>
                        </div>
                        <div id="couponMessage" class="coupon-message hidden"></div>
                        <div class="summary-row">
                            <span>Coupon</span>
                            <span class="text-link">Sign in to check available coupons</span>
                        </div>
                        <div class="summary-row">
                            <span>Sale</span>
                            <span id="saleAmount">-$0.00</span>
                        </div>
                    </div>
                </div>

                <!-- Order Preview -->
                <div class="glass-section order-preview">
                    <h3 class="section-title">Order Preview</h3>
                    <div class="summary-body">
                        <div class="summary-row"><span>Subtotal</span><span id="subtotal">$0.00</span></div>
                        <div id="engravingFeeRow" class="summary-row"><span>Engraving Fee</span><span id="engravingFee">$0.00</span></div>
                        <div class="summary-row"><span>Shipping</span><span id="shippingFee">FREE</span></div>
                        <div id="discountRow" class="summary-row">
                            <span class="saveup-label">Save up
                                <span class="info-icon" tabindex="0">i</span>
                                <span class="tooltip">√Åp d·ª•ng cho t·∫•t c·∫£ s·∫£n ph·∫©m</span>
                            </span>
                            <span id="discount" class="saveup-zero">$0.00</span>
                        </div>
                        <div class="summary-row">
                            <span>Estimated Tax</span>
                            <span class="tax-note">Charged at customs</span>
                        </div>
                        <hr class="summary-divider" />
                        <div class="summary-row total"><span>Estimated Total</span><span id="total">$0.00</span></div>
                        <button id="checkoutBtn" class="checkout-btn dark">Proceed to Checkout</button>
                        <p class="payment-note">The final payment amount may vary due to currency exchange rates.</p>
                    </div>
                </div>

                <!-- Hidden Shipping Information panel, opened via top bar 'Change' -->
                <div id="shippingPanel" class="glass-section" style="display:none">
                    <h3 class="section-title">Shipping Information</h3>
                    <div class="address-form">
                        <input id="fullname" class="input" placeholder="Full Name">
                        <input id="phone" class="input" placeholder="Phone Number">
                        <select id="province" class="input">
                            <option value="">Select State/Province</option>
                        </select>
                        <select id="district" class="input" disabled>
                            <option value="">Select City/District</option>
                        </select>
                        <input id="address" class="input" placeholder="Detailed Address">
                    </div>
                </div>

                <!-- Proceed to Checkout moved inside Order Preview -->
            </div>
        </div>
    </div>

    <!-- Footer (Injected) -->
    <div id="footer-placeholder"></div>
    <script src="/header_footer/partials.js"></script>
    <!-- Upsell Modal for free shipping -->
    <div id="upsellModal" class="upsell-modal hidden">
        <div class="upsell-content">
            <button id="upsellCloseBtn" class="upsell-close" aria-label="Close">√ó</button>
            <h3 style="margin:0 0 6px;">Do You Want Free Shipping?</h3>
            <p class="upsell-sub">Only <strong id="upsellLeftAmount">$0.00</strong> left to reach $80.</p>
            <div id="upsellList" class="upsell-list"></div>
            <button id="upsellProceedBtn" class="checkout-btn dark" style="margin-top:12px;">Proceed to Checkout</button>
        </div>
    </div>
    <script src="script.js"></script>
</body>
</html>
